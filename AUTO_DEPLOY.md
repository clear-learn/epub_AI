# 🤖 완전 자동 배포 가이드

파일을 수정하면 **GitHub + EC2** 모두 자동으로 배포되는 시스템입니다.

## 🚀 사용 방법

### 1. 완전 자동 배포 시작 (추천)
```bash
./auto-deploy-all.sh
```

### 2. 코드 수정
- 아무 파일이나 수정하세요
- 3초마다 변경사항을 자동으로 감지합니다
- **자동으로:**
  - ✅ GitHub에 커밋/푸시 (코드 백업)
  - ✅ EC2에 직접 배포 (실시간 반영)

### 3. 중지
- `Ctrl + C` 를 누르면 중지됩니다

---

## 📦 개별 배포 옵션

필요하면 개별적으로도 사용 가능:

### GitHub만 자동 배포
```bash
./auto-deploy.sh
```

### EC2만 자동 배포
```bash
./auto-deploy-ec2.sh
```

---

## 📋 작동 방식

```
파일 수정
    ↓ (3초 감지)
    ├─→ git commit/push → GitHub (코드 백업)
    └─→ rsync → EC2 (실시간 배포)
```

**배포 시간:** 파일 수정 후 약 10-20초

---

## 🔧 수동 배포 (필요 시)

자동 배포 없이 수동으로 배포하려면:
```bash
./deploy-to-ec2.sh
```

---

## ⚠️ 주의사항

1. **연구용 코드 전용**: 프로덕션 환경에서는 사용하지 마세요
2. **인터넷 연결 필요**: Git push를 위해 인터넷이 연결되어 있어야 합니다
3. **.gitignore 확인**: 민감한 파일(.env, *.pem 등)은 자동으로 제외됩니다

---

## 🛑 문제 해결

### 푸시 실패 시
```bash
# 원격 저장소와 동기화
git pull origin main

# 다시 시작
./auto-deploy.sh
```

### 커밋 메시지 변경하고 싶을 때
`auto-deploy.sh` 파일의 `COMMIT_MSG` 부분을 수정하세요.

---

## 💡 팁

- **터미널을 열어두세요**: 스크립트가 백그라운드로 실행됩니다
- **여러 파일 수정**: 5초 이내에 여러 파일을 수정하면 한 번에 커밋됩니다
- **실시간 로그**: 터미널에서 배포 진행 상황을 실시간으로 볼 수 있습니다