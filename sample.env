# OpenAI
OPENAI_API_KEY="your_openai_api_key"
OPENAI_MODEL_NAME="gpt-4.1-mini"

# AWS 설정
# 선택: 로컬 개발 시 사용할 AWS 프로필 이름 (설정하지 않으면 EC2 인... 등 기본 자격증명 사용)
# AWS_PROFILE_NAME="your_aws_profile"
AWS_REGION="ap-northeast-2"
DYNAMODB_LOG_TABLE_NAME="ai-epub-api-undrm-logs"

# MariaDB 연결 문자열 (예: "mysql+pymysql://user:password@host:port/dbname")
DB_CONNECTION_STRING="mysql+pymysql://아이디:패스word@rds-~~.c9~~~.ap-northeast-2.rds.amazonaws.com:3306/ai_epub~~~"
DB_DATABASE_NAME="ai_epub_api_test"
DB_TABLE_NAME="license_keys"

# --- 성능 및 커넥션 풀 설정 (선택 사항, 기본값으로도 충분) ---

# S3 클라이언트 설정
S3_MAX_POOL=128
S3_MAX_ATTEMPTS=8
S3_CONNECT_TIMEOUT=5
S3_READ_TIMEOUT=120

# DynamoDB 클라이언트 설정
DDB_MAX_POOL=64
DDB_MAX_ATTEMPTS=8
DDB_CONNECT_TIMEOUT=5
DDB_READ_TIMEOUT=10

# DB 엔진 (SQLAlchemy) 커넥션 풀 설정
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=2
DB_POOL_RECYCLE=1800


# Gunicorn 설정 (gunicorn.conf.py 참고)
# ------------------------------------------------
# 서버 바인딩 주소 및 포트
GUNICORN_BIND="0.0.0.0:18000"

# 워커 프로세스 수 (예: t3.medium -> 2)
GUNICORN_WORKERS="2"

# 워커가 정상적으로 종료될 때까지 기다리는 시간 (초)
GUNICORN_GRACEFUL_TIMEOUT="30"

# 워커가 응답이 없을 때 타임아웃 처리하는 시간 (초)
GUNICORN_TIMEOUT="60"

# 클라이언트 연결 유지 시간 (초)
GUNICORN_KEEPALIVE="5"

# 동시 연결 대기열의 최대 크기
GUNICORN_BACKLOG="2048"

# 워커가 재시작되기 전까지 처리할 최대 요청 수 (메모리 누수 방지)
GUNICORN_MAX_REQUESTS="2000"

# 최대 요청 수에 도달했을 때 재시작 시점을 랜덤하게 조절 (워커 동시 재시작 방지)
GUNICORN_MAX_REQUESTS_JITTER="200"

# 로그 레벨 (debug, info, warning, error, critical)
GUNICORN_LOGLEVEL="info"

# 액세스 로그 출력 위치 ('-'는 표준 출력)
GUNICORN_ACCESSLOG="-"

# 에러 로그 출력 위치 ('-'는 표준 출력)
GUNICORN_ERRORLOG="-"

# 워커 임시 디렉토리 경로 (비워두면 자동 감지: Linux는 /dev/shm, 나머지는 시스템 임시 폴더)
GUNICORN_WORKER_TMP_DIR=""
